<!-- src/app/core/auth-component/login/login.component.html -->
<div class="min-h-screen flex items-center justify-center bg-gray-100">
  <div class="bg-white p-6 rounded shadow-md w-full max-w-sm">
    <h2 class="text-2xl font-semibold mb-4 text-center">
      {{ isSignupMode ? 'Inscription' : 'Connexion' }}
    </h2>

    <ng-container *ngIf="!isSignupMode; else signupForm">
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <div class="mb-4">
          <label class="block text-sm mb-1">Email</label>
          <input
            formControlName="email"
            type="email"
            class="w-full px-3 py-2 border rounded"
            [ngClass]="{'border-red-500': f['email'].invalid && f['email'].touched}"
            placeholder="votre@email.com"
          />
          <small *ngIf="f['email'].invalid && f['email'].touched" class="text-red-500 text-xs">
            Email valide requis
          </small>
        </div>
        <div class="mb-4">
          <label class="block text-sm mb-1">Mot de passe</label>
          <input
            formControlName="password"
            type="password"
            class="w-full px-3 py-2 border rounded"
            [ngClass]="{'border-red-500': f['password'].invalid && f['password'].touched}"
            placeholder="••••••••"
          />
          <small *ngIf="f['password'].invalid && f['password'].touched" class="text-red-500 text-xs">
            Mot de passe requis
          </small>
        </div>
        <div *ngIf="errorMessage" class="text-red-600 text-sm mb-2">
          {{ errorMessage }}
        </div>
        <div *ngIf="successMessage" class="text-green-600 text-sm mb-2">
          {{ successMessage }}
        </div>
        <button
          type="submit"
          class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700"
          [disabled]="loginForm.invalid"
        >
          Connexion
        </button>
      </form>
    </ng-container>
    <ng-template #signupForm>
      <app-tenant-form [isEditMode]="false"></app-tenant-form>
    </ng-template>

    <p class="mt-4 text-center text-sm">
      {{ isSignupMode ? 'Déjà un compte ?' : 'Pas de compte ?' }}
      <a
        [routerLink]="['/auth']"
        [queryParams]="isSignupMode ? {} : { signup: true, propertyId: propertyId }"
        class="text-blue-600 hover:underline cursor-pointer"
      >
        {{ isSignupMode ? 'Se connecter' : 'S\'inscrire' }}
      </a>
    </p>
  </div>
</div>