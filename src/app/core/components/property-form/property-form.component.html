<form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex flex-col gap-6 max-w-lg mx-auto p-6 bg-white shadow-md rounded-lg">
  <div class="flex flex-col">
    <label class="font-semibold text-gray-700">Titre</label>
    <input formControlName="title" class="border p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
    <span *ngIf="form.get('title')?.touched && form.get('title')?.invalid" class="text-red-500 text-sm mt-1">
      Titre requis (3 caractères min).
    </span>
  </div>
  <div class="flex flex-col">
    <label class="font-semibold text-gray-700">Description</label>
    <textarea formControlName="description" class="border p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required></textarea>
    <span *ngIf="form.get('description')?.touched && form.get('description')?.invalid" class="text-red-500 text-sm mt-1">
      Description requise (10 caractères min).
    </span>
  </div>
  <div class="flex flex-col">
    <label class="font-semibold text-gray-700">Adresse</label>
    <input formControlName="address" class="border p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
    <span *ngIf="form.get('address')?.touched && form.get('address')?.invalid" class="text-red-500 text-sm mt-1">
      Adresse requise.
    </span>
  </div>
  <div class="flex flex-col">
    <label class="font-semibold text-gray-700">Prix</label>
    <input type="number" formControlName="price" class="border p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
    <span *ngIf="form.get('price')?.touched && form.get('price')?.invalid" class="text-red-500 text-sm mt-1">
      Prix requis (≥ 0).
    </span>
  </div>
  <div class="flex flex-col">
    <label class="font-semibold text-gray-700">Type</label>
    <select formControlName="type" class="border p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
      <option value="VILLA">Villa</option>
      <option value="APPARTEMENT">Appartement</option>
      <option value="COMMERCE">Commerce</option>
      <option value="TERRAIN">Terrain</option>
    </select>
  </div>
  <div class="flex flex-col">
    <label class="font-semibold text-gray-700">Statut</label>
    <select formControlName="status" class="border p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required>
      <option value="VENTE">Vente</option>
      <option value="DISPONIBLE">Disponible</option>
      <option value="LOUER">Louer</option>
    </select>
  </div>
  <div class="flex flex-col">
    <label class="font-semibold text-gray-700">Image de couverture</label>
    <input type="file" (change)="onCoverImageSelected($event)" accept="image/*" class="border p-3 rounded-lg">
    <img *ngIf="coverImagePreview" [src]="coverImagePreview" class="w-32 mt-3 rounded-lg">
  </div>
  <div class="flex flex-col">
    <label class="font-semibold text-gray-700">Images supplémentaires</label>
    <input type="file" multiple (change)="onAdditionalImagesSelected($event)" accept="image/*" class="border p-3 rounded-lg">
    <div class="flex flex-wrap gap-3 mt-3">
      <img *ngFor="let img of additionalImagesPreview" [src]="img" class="w-32 rounded-lg">
    </div>
  </div>
  <button type="submit" [disabled]="isSubmitting" class="bg-blue-500 text-white p-3 rounded-lg hover:bg-blue-600 disabled:bg-gray-400 transition">
    {{ isEditMode ? 'Mettre à jour' : 'Créer' }}
  </button>
  <span *ngIf="errorMessage" class="text-red-500 text-sm text-center">{{ errorMessage }}</span>
</form>